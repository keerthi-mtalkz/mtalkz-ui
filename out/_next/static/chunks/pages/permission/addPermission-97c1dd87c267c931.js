(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2674],{84914:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permission/addPermission",function(){return t(92426)}])},14101:function(e,s,t){"use strict";var n=t(85893);s.Z=function(e){var s=e.title,t=e.subtitle;return(0,n.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,n.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:s}),(0,n.jsx)("h2",{className:"text-sm text-secondary",children:t})]})}},92426:function(e,s,t){"use strict";t.r(s);var n=t(85893),l=t(67294),a=t(14101),r=t(64298),i=t(36804),c=t(11163),o=t(34120),u=t(30882),d=t(94379);t(74865);s.default=(0,o.X)((function(){var e=(0,c.useRouter)(),s=(0,l.useState)({}),t=(s[0],s[1]),o=(0,l.useState)(void 0),m=o[0],x=o[1],p=(0,l.useState)(void 0),f=p[0],h=p[1],b=(0,r.cI)(),N=b.register,j=b.handleSubmit;b.watch;return(0,l.useEffect)((function(){}),[]),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(a.Z,{title:"Create Permission",subtitle:""}),"success"===(null===m||void 0===m?void 0:m.type)&&(0,n.jsx)("div",{className:"flex flex-wrap w-full",children:(0,n.jsx)("div",{className:"p-2",children:d.fn.success("Added permission successfully","Success")})}),"error"===(null===m||void 0===m?void 0:m.type)&&(0,n.jsx)("div",{className:"flex flex-wrap w-full",children:(0,n.jsx)("div",{className:"p-2",children:d.fn.error(m.message,"Error")})}),(0,n.jsxs)("form",{onSubmit:j((function(s){var n=localStorage.getItem("token");u.ax.post("/permissions",s,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(s){t(s.data),x({type:"success"}),setTimeout((function(){e.push("/permission")}),1e3)})).catch((function(e){e.response.data.errors?h(e.response.data.errors):x({type:"error",message:e.response.data.message})}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,n.jsxs)("div",{className:"w-full mb-4",children:[(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"text-default",children:"Route"}),(0,n.jsx)("span",{className:"text-red-600",children:"*"}),(0,n.jsx)("input",{name:"route",type:"text",ref:N({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Route in dot notation",required:!0,pattern:"([a-z-]+\\.)*[a-z-]+",title:"route should contain only alphabets, dots"})]}),f&&f.route&&f.route.map((function(e){return(0,n.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,n.jsxs)("div",{className:"w-full mb-4",children:[(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"text-default",children:"Name"}),(0,n.jsx)("span",{className:"text-red-600",children:"*"}),(0,n.jsx)("input",{name:"name",type:"text",ref:N({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission name",required:!0})]}),f&&f.name&&f.name.map((function(e){return(0,n.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,n.jsxs)("div",{className:"w-full mb-4",children:[(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"text-default",children:"Description"}),(0,n.jsx)("input",{name:"description",type:"text",ref:N(),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission Description"})]}),f&&f.description&&f.description.map((function(e){return(0,n.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,n.jsxs)("div",{className:"w-full flex",children:[(0,n.jsx)("input",{type:"cancel",className:"btn cursor-pointer btn-default btn-block btn-red mt-5 text-center mr-5 ",value:"Cancel",onClick:function(){e.push("/permission")}}),(0,n.jsx)("input",{type:"submit",className:"btn cursor-pointer btn-default btn-block btn-indigo mt-5",value:"Add"})]})]})]})}))}},function(e){e.O(0,[5367,196,7955,6268,4298,5776,9774,2888,179],(function(){return s=84914,e(e.s=s);var s}));var s=e.O();_N_E=s}]);