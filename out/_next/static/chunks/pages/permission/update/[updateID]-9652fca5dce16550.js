(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8762],{68312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permission/update/[updateID]",function(){return s(18093)}])},14101:function(e,t,s){"use strict";var n=s(85893);t.Z=function(e){var t=e.title,s=e.subtitle;return(0,n.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,n.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,n.jsx)("h2",{className:"text-sm text-secondary",children:s})]})}},18093:function(e,t,s){"use strict";s.r(t);var n=s(47568),a=s(70655),r=s(85893),l=s(67294),i=s(36804),c=s(14101),o=s(64298),u=s(34120),d=s(11163),m=s(30882),p=s(94379);t.default=(0,u.X)((function(){var e=(0,d.useRouter)(),t=e.query.updateID,s=(0,l.useState)({}),u=s[0],x=s[1],f=(0,l.useState)(void 0),h=f[0],b=f[1],N=(0,l.useState)(void 0),j=N[0],v=N[1],w=function(){var e=(0,n.Z)((function(){var e;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return e=localStorage.getItem("token"),[4,m.ax.get("/permissions/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){x(e.data.permission)})).catch((function(e){b({type:"error",message:e.response.data.message}),console.error("get /permission error",e)}))];case 1:s.sent(),s.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){w()}),[]);var g=(0,o.cI)(),y=g.register,k=g.handleSubmit;g.watch;return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(c.Z,{title:"Update Permission",subtitle:""}),"success"===(null===h||void 0===h?void 0:h.type)&&(0,r.jsx)("div",{className:"flex flex-wrap w-full",children:(0,r.jsx)("div",{className:"p-2",children:p.fn.success("Updated permission successfully","Success")})}),"error"===(null===h||void 0===h?void 0:h.type)&&(0,r.jsx)("div",{className:"flex flex-wrap w-full",children:(0,r.jsx)("div",{className:"p-2",children:p.fn.error(h.message,"Error")})}),(0,r.jsx)("div",{className:"flex flex-wrap ",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("form",{onSubmit:k((function(s){var n=localStorage.getItem("token");m.ax.put("/permissions/".concat(t),s,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){b({type:"success"}),setTimeout((function(){e.push("/permission")}),1e3)})).catch((function(e){e.response.data.errors?v(e.response.data.errors):b({type:"error",message:e.response.data.message})}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"text-default",children:"Route"}),(0,r.jsx)("span",{className:"text-red-600",children:"*"}),(0,r.jsx)("input",{name:"route",type:"text",ref:y({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Route in dot notation",defaultValue:u.route,pattern:"([a-z-]+\\.)*[a-z-]+",title:"route should contain only alphabets, dots",required:!0})]}),j&&j.route&&j.route.map((function(e){return(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"text-default",children:"Name"}),(0,r.jsx)("span",{className:"text-red-600",children:"*"}),(0,r.jsx)("input",{name:"name",type:"text",ref:y({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission name",defaultValue:u.name,required:!0})]}),j&&j.name&&j.name.map((function(e){return(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,r.jsxs)("div",{className:"w-full mb-4",children:[(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"text-default",children:"Description"}),(0,r.jsx)("input",{name:"description",type:"text",ref:y(),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission description",defaultValue:u.description})]}),j&&j.description&&j.description.map((function(e){return(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,r.jsxs)("div",{className:"w-full flex",children:[(0,r.jsx)("input",{type:"cancel",className:"btn cursor-pointer btn-default btn-block btn-red mt-5 text-center mr-5 ",value:"Cancel",onClick:function(){e.push("/permission")}}),(0,r.jsx)("input",{type:"submit",className:"btn cursor-pointer btn-default btn-block btn-indigo mt-5",value:"Update"})]})]})})})]})}))}},function(e){e.O(0,[5367,196,7955,6268,4298,5776,9774,2888,179],(function(){return t=68312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);