(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8762],{68312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permission/update/[updateID]",function(){return t(18093)}])},14101:function(e,s,t){"use strict";var n=t(85893);s.Z=function(e){var s=e.title,t=e.subtitle;return(0,n.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,n.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:s}),(0,n.jsx)("h2",{className:"text-sm text-secondary",children:t})]})}},18093:function(e,s,t){"use strict";t.r(s);var n=t(47568),r=t(20414),a=t(85893),l=t(67294),i=t(12596),c=t(14101),u=t(64298),o=t(34120),d=t(11163),f=t(30882),m=t(94379);s.default=(0,o.X)((function(){var e=(0,d.useRouter)(),s=e.query.updateID,t=(0,l.useState)({}),o=t[0],p=t[1],x=(0,l.useState)(void 0),h=x[0],b=x[1],N=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=localStorage.getItem("token"),[4,f.ax.get("/permissions/".concat(s),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){p(e.data.permission)})).catch((function(e){b({type:"error",err:e}),console.error("get /permission error",e)}))];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){N()}),[]);var v=(0,u.cI)(),j=v.register,w=v.handleSubmit;v.watch,v.errors;return(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(c.Z,{title:"UPDATE PERMISSION",subtitle:""}),"success"===(null===h||void 0===h?void 0:h.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:m.fn.success("Updated permission successfully","Success")})}),"error"===(null===h||void 0===h?void 0:h.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:m.fn.error(h.message,"Error")})}),(0,a.jsx)("div",{className:"flex flex-wrap ",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("form",{onSubmit:w((function(t){var n=localStorage.getItem("token");f.ax.put("/permissions/".concat(s),t,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(s){p(s.data),b({type:"success"}),e.push("/permission")})).catch((function(s){b({type:"error",message:s.response.data.message}),setTimeout((function(){b(void 0),e.push("/permission")}),1e3)}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,a.jsx)("div",{className:"w-full mb-4",children:(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Route"}),(0,a.jsx)("input",{name:"route",type:"text",ref:j({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Route in dot notation",defaultValue:o.route,required:!0})]})}),(0,a.jsx)("div",{className:"w-full mb-4",children:(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Name"}),(0,a.jsx)("input",{name:"name",type:"text",ref:j({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission name",defaultValue:o.name,required:!0})]})}),(0,a.jsx)("div",{className:"w-full mb-4",children:(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Description"}),(0,a.jsx)("input",{name:"description",type:"text",ref:j({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Permission description",defaultValue:o.description})]})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("input",{type:"submit",className:"btn btn-default btn-block btn-indigo btn-rounded",value:"Update"})})]})})})]})}))}},function(e){e.O(0,[5367,196,9350,4298,7106,9774,2888,179],(function(){return s=68312,e(e.s=s);var s}));var s=e.O();_N_E=s}]);