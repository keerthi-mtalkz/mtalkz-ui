(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7695],{54971:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permission",function(){return t(59555)}])},3695:function(e,n,t){"use strict";var s=t(85893),r=(t(67294),function(e){var n=e.onClick;return(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Delete Confirmation"}),(0,s.jsx)("button",{className:"modal-close btn btn-transparent",onClick:n,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"text-secondary stroke-current inline-block h-5 w-5",children:[(0,s.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,s.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),i=function(e){var n=e.onClick,t=e.onSubmit;return(0,s.jsxs)("div",{className:"modal-footer children-x-2",children:[(0,s.jsx)("button",{style:{background:"red",padding:"10px",color:"white"},type:"button",onClick:n,children:"Cancel"}),(0,s.jsx)("button",{style:{background:"#667eea",padding:"10px",width:"60px",color:"white"},type:"button",onClick:t,children:"Ok"})]})};n.Z=function(e){var n=e.onCancel,t=e.onSubmit;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"backdrop fade-in fixed inset-0 z-40 bg-black"}),(0,s.jsx)("div",{className:"modal show justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,s.jsx)("div",{className:"relative w-auto my-4 mx-auto max-w-lg",children:(0,s.jsxs)("div",{className:"modal-content",style:{width:"550px"},children:[(0,s.jsx)(r,{onClick:function(){return n()}}),(0,s.jsx)("p",{className:"ml-5",children:"Are you sure?"}),(0,s.jsx)("p",{className:"ml-5",children:"Do you want to delete"}),(0,s.jsx)(i,{onClick:function(){return n()},onSubmit:function(){return t()}})]})})})]})}},32360:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var s=t(26042),r=t(69396),i=t(29815),o=t(85893),a=(t(67294),t(79521)),c=t(45697),l=t.n(c),u=function(e){var n=e.color,t=e.children,s=e.active,r=void 0!==s&&s,i=e.onClick;return r?(0,o.jsx)("button",{onClick:i,className:"btn btn-default btn-".concat(n),children:t}):(0,o.jsx)("button",{onClick:i,className:"btn btn-default btn-default-color",children:t})},d=function(e){var n=e.color,t=e.page,s=e.onClick;return(0,o.jsx)("button",{onClick:s,className:"btn btn-circle btn-".concat(n),children:t})},x=function(e){var n=e.page,t=e.onClick;return(0,o.jsx)("button",{onClick:t,className:"btn btn-circle btn-default-color",children:n})},m=function(e){var n=e.color,t=e.page,s=e.active,r=void 0!==s&&s,i=e.onClick;return r?(0,o.jsx)(d,{onClick:i,page:t,color:n}):(0,o.jsx)(x,{onClick:i,page:t,color:n})},f=function(e){var n=e.color,t=e.items,s=(e.active,e.onClick);return(0,o.jsx)(o.Fragment,{children:t.map((function(e){return(0,o.jsx)(m,{onClick:s,color:n,page:e+1,active:e+1===5},e)}))})};f.propTypes={color:l().string.isRequired,items:l().array.isRequired,active:l().number.isRequired};l().string.isRequired,l().array.isRequired,l().number.isRequired;var h=function(e){var n=e.columns,t=e.data,c=(0,a.useTable)({columns:n,data:t,initialState:{pageIndex:0,pageSize:10}},a.useSortBy,a.usePagination,a.useRowSelect,(function(e){e.visibleColumns.push((function(e){return(0,i.Z)(e)}))})),l=c.getTableProps,d=c.getTableBodyProps,x=c.headerGroups,m=c.prepareRow,f=c.page,h=c.canPreviousPage,p=c.canNextPage,v=c.pageOptions,j=c.pageCount,g=c.gotoPage,b=c.nextPage,w=c.previousPage,N=c.setPageSize,y=(c.selectedFlatRows,c.state),k=y.pageIndex,C=y.pageSize;y.selectedRowIds;return(null===t||void 0===t?void 0:t.length)>0?(0,o.jsxs)("div",{children:[(0,o.jsxs)("table",(0,r.Z)((0,s.Z)({},l()),{className:"table",children:[(0,o.jsx)("thead",{children:x.map((function(e){return(0,o.jsx)("tr",(0,r.Z)((0,s.Z)({},e.getHeaderGroupProps()),{children:e.headers.map((function(e){return(0,o.jsx)("th",(0,r.Z)((0,s.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{children:(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start",children:[(0,o.jsx)("span",{children:e.render("Header")}),(0,o.jsx)("span",{className:"ltr:ml-auto rtl:mr-auto",children:e.isSorted?e.isSortedDesc?(0,o.jsx)("icon",{className:"icon-arrow-down text-xxs"}):(0,o.jsx)("icon",{className:"icon-arrow-up text-xxs"}):""})]})}))}))}))}))}),(0,o.jsx)("tbody",(0,r.Z)((0,s.Z)({},d()),{children:f.map((function(e,n){return m(e),(0,o.jsx)("tr",(0,r.Z)((0,s.Z)({},e.getRowProps()),{children:e.cells.map((function(e){return(0,o.jsx)("td",(0,r.Z)((0,s.Z)({},e.getCellProps()),{style:{"max-width":"10rem"},className:"max-w-xs truncate break-words  text-ellipsis ",children:e.render("Cell")}))}))}))}))}))]})),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between my-4",children:[(0,o.jsxs)("div",{className:"flex flex-wrap items-center justify-start children-x-2 pagination",children:[0!==k&&(0,o.jsx)(u,{onClick:function(){return g(0)},color:"text-default",children:"First"}),h&&(0,o.jsx)(u,{onClick:function(){return w()},color:"text-default",children:"Previous"}),p&&(0,o.jsx)(u,{onClick:function(){return b()},disabled:!p,color:"text-default",children:"Next"}),k!==j-1&&(0,o.jsx)(u,{onClick:function(){return g(j-1)},disabled:!p,color:"text-default",children:"Last"})]}),(0,o.jsxs)("span",{children:["Page"," ",(0,o.jsxs)("b",{children:[k+1," of ",v.length]})," "]}),(0,o.jsx)("select",{className:"form-select text-sm",value:C,onChange:function(e){N(Number(e.target.value))},children:[10,25,50,100].map((function(e){return(0,o.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]}):(0,o.jsx)("div",{className:"text-center",children:"No Records Found"})}},14101:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title,t=e.subtitle;return(0,s.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,s.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:n}),(0,s.jsx)("h2",{className:"text-sm text-secondary",children:t})]})}},59555:function(e,n,t){"use strict";t.r(n);var s=t(47568),r=t(26042),i=t(828),o=t(70655),a=t(85893),c=t(34120),l=t(36804),u=t(41664),d=t.n(u),x=t(67294),m=t(32360),f=t(30882),h=t(94379),p=t(14101),v=t(3695),j=t(2185);n.default=(0,c.X)((function(){var e=(0,x.useState)([]),n=e[0],t=e[1],c=(0,x.useState)(void 0),u=c[0],g=c[1],b=(0,x.useState)(""),w=b[0],N=b[1],y=(0,i.Z)(x.useState(void 0),2),k=y[0],C=y[1],Z=(0,i.Z)(x.useState(!1),2),S=Z[0],P=Z[1],R=(0,j.v9)((function(e){return{userpermissions:e.userpermissions}}),j.wU).userpermissions,_=(0,i.Z)(x.useState({get:!1,update:!1,delete:!1,view:!1}),2),T=_[0],E=_[1],A=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=localStorage.getItem("token"),[4,f.ax.get("/permissions",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t(e.data)})).catch((function(e){g({type:"error",message:e.response.data.message}),console.error("get /permissions error",e)}))];case 1:return n.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),H=function(){var e={get:!1,update:!1,delete:!1,view:!1,add:!1};e.get=R.includes("permissions.indexU")&&A(),e.update=R.includes("permissions.update"),e.delete=R.includes("permissions.destroy"),e.view=R.includes("permissions.show"),e.add=R.includes("permissions.store"),E((0,r.Z)({},e))};x.useEffect((function(){H()}),[]);var I=function(){var e=localStorage.getItem("token");f.ax.delete("/permissions/".concat(k),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){P(!1),g({type:"success"}),setTimeout((function(){g(void 0),H()}),1e3)})).catch((function(e){P(!1),g({type:"error",message:e.response.data.message})}))},z=[{Header:"Route",accessor:"route"},{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Actions",sortable:!1,cell:function(){return(0,a.jsx)(Button,{variant:"danger","data-tag":"allowRowEvents","data-action":"delete",children:(0,a.jsx)(FontAwesomeIcon,{icon:faTrash})})},Cell:function(e){return(0,a.jsxs)("div",{className:"flex justify-evenly",children:[T.view&&(0,a.jsx)(d(),{href:"/permission/view/".concat(e.row.original.id),children:(0,a.jsx)("p",{children:(0,a.jsx)("i",{className:"icon-eye text-1xl font-bold mb-2"})})}),T.delete&&(0,a.jsx)("p",{style:{cursor:"pointer",lineHeight:"normal"},onClick:function(){return n=e.row.original.id,C(n),void P(!0);var n},children:(0,a.jsx)("i",{className:"icon-trash text-1xl font-bold mb-2"})}),T.update&&(0,a.jsx)(d(),{href:"/permission/update/".concat(e.row.original.id),children:(0,a.jsx)("p",{children:(0,a.jsx)("i",{className:"icon-note text-1xl font-bold mb-2"})})})]})}}];return(0,a.jsxs)(l.Z,{children:[S&&(0,a.jsx)(v.Z,{onCancel:function(){g(void 0),P(!1)},onSubmit:function(){I()},children:" "}),(0,a.jsx)(p.Z,{title:"Permission Management",subtitle:""}),"success"===(null===u||void 0===u?void 0:u.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:h.fn.success("Deleted permission successfully","Success")})}),"error"===(null===u||void 0===u?void 0:u.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:h.fn.error(u.message,"Error")})}),(0,a.jsxs)("div",{className:"flex flex-row pb-4",children:[(0,a.jsx)("div",{className:" w-5/6",children:(0,a.jsx)("input",{type:"text",name:"search",className:"w-full p-2 ...",onChange:function(e){return N(e.target.value)},placeholder:"Search..."})}),(0,a.jsxs)("div",{className:"w-1/6 ",children:[" ",T.add&&(0,a.jsx)(d(),{href:"/permission/addPermission",children:(0,a.jsx)("button",{className:"ml-3 btn btn-default btn-indigo create-btn w-full",type:"button",children:"Add Permission"})})]})]}),(0,a.jsx)(m.Z,{columns:z,data:null===n||void 0===n?void 0:n.filter((function(e){return""==w||e.name.toLowerCase().includes(w.toLocaleLowerCase())||e.route.toLowerCase().includes(w.toLocaleLowerCase())?e:void 0})).map((function(e,n){return e}))})]})}))},828:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var s=t(13375);var r=t(91566);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||(0,s.Z)(e,n)||(0,r.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[5367,196,7955,6268,9521,5776,9774,2888,179],(function(){return n=54971,e(e.s=n);var n}));var n=e.O();_N_E=n}]);