(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5512],{2127:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apiKey",function(){return n(62268)}])},3695:function(e,t,n){"use strict";var r=n(85893),s=(n(67294),function(e){var t=e.onClick;return(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Delete Confirmation"}),(0,r.jsx)("button",{className:"modal-close btn btn-transparent",onClick:t,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"text-secondary stroke-current inline-block h-5 w-5",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),i=function(e){var t=e.onClick,n=e.onSubmit;return(0,r.jsxs)("div",{className:"modal-footer children-x-2",children:[(0,r.jsx)("button",{style:{background:"red",padding:"10px",color:"white"},type:"button",onClick:t,children:"Cancel"}),(0,r.jsx)("button",{style:{background:"#667eea",padding:"10px",width:"60px",color:"white"},type:"button",onClick:n,children:"Ok"})]})};t.Z=function(e){var t=e.onCancel,n=e.onSubmit;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"backdrop fade-in fixed inset-0 z-40 bg-black"}),(0,r.jsx)("div",{className:"modal show justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,r.jsx)("div",{className:"relative w-auto my-4 mx-auto max-w-lg",children:(0,r.jsxs)("div",{className:"modal-content",style:{width:"550px"},children:[(0,r.jsx)(s,{onClick:function(){return t()}}),(0,r.jsx)("p",{className:"ml-5",children:"Are you sure?"}),(0,r.jsx)("p",{className:"ml-5",children:"Do you want to delete"}),(0,r.jsx)(i,{onClick:function(){return t()},onSubmit:function(){return n()}})]})})})]})}},32360:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(26042),s=n(69396),i=n(29815),a=n(85893),o=(n(67294),n(79521)),c=n(45697),l=n.n(c),u=function(e){var t=e.color,n=e.children,r=e.active,s=void 0!==r&&r,i=e.onClick;return s?(0,a.jsx)("button",{onClick:i,className:"btn btn-default btn-".concat(t),children:n}):(0,a.jsx)("button",{onClick:i,className:"btn btn-default btn-default-color",children:n})},d=function(e){var t=e.color,n=e.page,r=e.onClick;return(0,a.jsx)("button",{onClick:r,className:"btn btn-circle btn-".concat(t),children:n})},x=function(e){var t=e.page,n=e.onClick;return(0,a.jsx)("button",{onClick:n,className:"btn btn-circle btn-default-color",children:t})},f=function(e){var t=e.color,n=e.page,r=e.active,s=void 0!==r&&r,i=e.onClick;return s?(0,a.jsx)(d,{onClick:i,page:n,color:t}):(0,a.jsx)(x,{onClick:i,page:n,color:t})},h=function(e){var t=e.color,n=e.items,r=(e.active,e.onClick);return(0,a.jsx)(a.Fragment,{children:n.map((function(e){return(0,a.jsx)(f,{onClick:r,color:t,page:e+1,active:e+1===5},e)}))})};h.propTypes={color:l().string.isRequired,items:l().array.isRequired,active:l().number.isRequired};l().string.isRequired,l().array.isRequired,l().number.isRequired;var p=function(e){var t=e.columns,n=e.data,c=(0,o.useTable)({columns:t,data:n,initialState:{pageIndex:0,pageSize:10}},o.useSortBy,o.usePagination,o.useRowSelect,(function(e){e.visibleColumns.push((function(e){return(0,i.Z)(e)}))})),l=c.getTableProps,d=c.getTableBodyProps,x=c.headerGroups,f=c.prepareRow,h=c.page,p=c.canPreviousPage,m=c.canNextPage,v=c.pageOptions,j=c.pageCount,b=c.gotoPage,g=c.nextPage,w=c.previousPage,y=c.setPageSize,k=(c.selectedFlatRows,c.state),C=k.pageIndex,N=k.pageSize;k.selectedRowIds;return(null===n||void 0===n?void 0:n.length)>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("table",(0,s.Z)((0,r.Z)({},l()),{className:"table",children:[(0,a.jsx)("thead",{children:x.map((function(e){return(0,a.jsx)("tr",(0,s.Z)((0,r.Z)({},e.getHeaderGroupProps()),{children:e.headers.map((function(e){return(0,a.jsx)("th",(0,s.Z)((0,r.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start",children:[(0,a.jsx)("span",{children:e.render("Header")}),(0,a.jsx)("span",{className:"ltr:ml-auto rtl:mr-auto",children:e.isSorted?e.isSortedDesc?(0,a.jsx)("icon",{className:"icon-arrow-down text-xxs"}):(0,a.jsx)("icon",{className:"icon-arrow-up text-xxs"}):""})]})}))}))}))}))}),(0,a.jsx)("tbody",(0,s.Z)((0,r.Z)({},d()),{children:h.map((function(e,t){return f(e),(0,a.jsx)("tr",(0,s.Z)((0,r.Z)({},e.getRowProps()),{children:e.cells.map((function(e){return(0,a.jsx)("td",(0,s.Z)((0,r.Z)({},e.getCellProps()),{style:{"max-width":"10rem"},className:"max-w-xs truncate break-words  text-ellipsis ",children:e.render("Cell")}))}))}))}))}))]})),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between my-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-start children-x-2 pagination",children:[0!==C&&(0,a.jsx)(u,{onClick:function(){return b(0)},color:"text-default",children:"First"}),p&&(0,a.jsx)(u,{onClick:function(){return w()},color:"text-default",children:"Previous"}),m&&(0,a.jsx)(u,{onClick:function(){return g()},disabled:!m,color:"text-default",children:"Next"}),C!==j-1&&(0,a.jsx)(u,{onClick:function(){return b(j-1)},disabled:!m,color:"text-default",children:"Last"})]}),(0,a.jsxs)("span",{children:["Page"," ",(0,a.jsxs)("b",{children:[C+1," of ",v.length]})," "]}),(0,a.jsx)("select",{className:"form-select text-sm",value:N,onChange:function(e){y(Number(e.target.value))},children:[10,25,50,100].map((function(e){return(0,a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]}):(0,a.jsx)("div",{className:"text-center",children:"No Records Found"})}},14101:function(e,t,n){"use strict";var r=n(85893);t.Z=function(e){var t=e.title,n=e.subtitle;return(0,r.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,r.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,r.jsx)("h2",{className:"text-sm text-secondary",children:n})]})}},62268:function(e,t,n){"use strict";n.r(t);var r=n(47568),s=n(26042),i=n(828),a=n(70655),o=n(85893),c=n(34120),l=n(36804),u=n(14101),d=n(41664),x=n.n(d),f=n(67294),h=n(32360),p=n(30882),m=n(94379),v=n(81817),j=n(3695),b=n(2185);t.default=(0,c.X)((function(){var e=(0,f.useState)([]),t=e[0],n=e[1],c=(0,f.useState)(void 0),d=c[0],g=c[1],w=(0,f.useState)(""),y=w[0],k=w[1],C=(0,i.Z)(f.useState({get:!1,update:!1,delete:!1,view:!1}),2),N=C[0],Z=C[1],S=(0,i.Z)(f.useState(void 0),2),_=S[0],P=S[1],A=(0,i.Z)(f.useState(!1),2),L=A[0],R=A[1],H=(0,b.v9)((function(e){return{userpermissions:e.userpermissions}}),b.wU).userpermissions,T=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return e=localStorage.getItem("token"),[4,p.ax.get("/api-keys",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){e.data.map((function(e){e.is_active=1==e.is_active?"Active":"Inactive"})),n(e.data)})).catch((function(e){console.error("get /apiKeys error",e)}))];case 1:return t.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){return(e={get:!1,update:!1,delete:!1,view:!1,add:!1}).get=H.includes("apikeys.index")&&T(),e.update=H.includes("apikeys.update"),e.delete=H.includes("apikeys.destroy"),e.view=H.includes("apikeys.show"),e.add=H.includes("apikeys.store"),Z((0,s.Z)({},e)),[2]}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=localStorage.getItem("token");p.ax.delete("/api-keys/".concat(_),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){R(!1),g({type:"success"}),setTimeout((function(){g(void 0),T()}),1e3)}))};f.useEffect((function(){I()}),[]);var K=[{Header:"Label",accessor:"label"},{Header:"Key",accessor:"masked_key"},{Header:"Status",sortable:!1,Cell:function(e){return(0,o.jsx)("div",{className:"flex ",children:(0,o.jsx)(v.C,{size:"default",color:"Active"==e.row.original.is_active?"green":"red",rounded:!0,children:e.row.original.is_active})})}},{Header:"Resource",accessor:"resource.name"},{Header:"Total Credits",accessor:"total_credits"},{Header:"Active Credits",accessor:"credits"},{Header:"Actions",sortable:!1,cell:function(){return(0,o.jsx)(Button,{variant:"danger","data-tag":"allowRowEvents","data-action":"delete",children:(0,o.jsx)(FontAwesomeIcon,{icon:faTrash})})},Cell:function(e){return(0,o.jsxs)("div",{className:"flex justify-evenly",children:[N.delete&&(0,o.jsx)("p",{style:{cursor:"pointer",lineHeight:"normal"},onClick:function(){return t=e.row.original.id,P(t),void R(!0);var t},children:(0,o.jsx)("i",{className:"icon-trash text-1xl font-bold mb-2"})}),N.update&&(0,o.jsx)(x(),{href:"/apiKey/update/".concat(e.row.original.id),children:(0,o.jsx)("p",{children:(0,o.jsx)("i",{className:"icon-note text-1xl font-bold mb-2"})})})]})}}];return(0,o.jsxs)(l.Z,{children:[L&&(0,o.jsx)(j.Z,{onCancel:function(){g(void 0),R(!1)},onSubmit:function(){E()},children:" "}),(0,o.jsx)(u.Z,{title:"API Keys",subtitle:""}),(0,o.jsxs)("div",{className:"flex flex-row pb-4",children:[(0,o.jsx)("div",{className:" w-5/6",children:(0,o.jsx)("input",{type:"text",name:"search",className:"w-full p-2 ...",onChange:function(e){return k(e.target.value)},placeholder:"Search..."})}),(0,o.jsxs)("div",{className:"w-1/6 ",children:[" ",N.add&&(0,o.jsx)(x(),{href:"/apiKey/addApiKey",children:(0,o.jsx)("button",{className:"ml-3 btn btn-default btn-indigo create-btn w-full",type:"button",children:"Add Api Key"})})]})]}),"success"===(null===d||void 0===d?void 0:d.type)&&(0,o.jsx)("div",{className:"flex flex-wrap w-full",children:(0,o.jsx)("div",{className:"p-2",children:m.fn.success("Deleted ApiKey successfully","Success")})}),"error"===(null===d||void 0===d?void 0:d.type)&&(0,o.jsx)("div",{className:"flex flex-wrap w-full",children:(0,o.jsx)("div",{className:"p-2",children:m.fn.error(d.message,"Error")})}),(0,o.jsx)(h.Z,{columns:K,data:null===t||void 0===t?void 0:t.filter((function(e){var t,n;return""==y||e.key.toLowerCase().includes(y.toLocaleLowerCase())||e.label.toLowerCase().includes(y.toLocaleLowerCase())||(null===e||void 0===e||null===(t=e.resource)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(y.toLocaleLowerCase()))||e.is_active.toLowerCase().includes(y.toLocaleLowerCase())?e:void 0})).map((function(e,t){return e}))})]})}))},828:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(13375);var s=n(91566);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,t)||(0,s.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[5367,196,7955,6268,9521,5776,9774,2888,179],(function(){return t=2127,e(e.s=t);var t}));var t=e.O();_N_E=t}]);