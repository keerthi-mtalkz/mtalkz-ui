(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5190],{40743:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listSegments",function(){return n(96068)}])},3695:function(e,t,n){"use strict";var r=n(85893),s=(n(67294),function(e){var t=e.onClick;return(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Delete Confirmation"}),(0,r.jsx)("button",{className:"modal-close btn btn-transparent",onClick:t,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"text-secondary stroke-current inline-block h-5 w-5",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),i=function(e){var t=e.onClick,n=e.onSubmit;return(0,r.jsxs)("div",{className:"modal-footer children-x-2",children:[(0,r.jsx)("button",{style:{background:"red",padding:"10px",color:"white"},type:"button",onClick:t,children:"Cancel"}),(0,r.jsx)("button",{style:{background:"#667eea",padding:"10px",width:"60px",color:"white"},type:"button",onClick:n,children:"Ok"})]})};t.Z=function(e){var t=e.onCancel,n=e.onSubmit;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"backdrop fade-in fixed inset-0 z-40 bg-black"}),(0,r.jsx)("div",{className:"modal show justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,r.jsx)("div",{className:"relative w-auto my-4 mx-auto max-w-lg",children:(0,r.jsxs)("div",{className:"modal-content",style:{width:"550px"},children:[(0,r.jsx)(s,{onClick:function(){return t()}}),(0,r.jsx)("p",{className:"ml-5",children:"Are you sure?"}),(0,r.jsx)("p",{className:"ml-5",children:"Do you want to delete"}),(0,r.jsx)(i,{onClick:function(){return t()},onSubmit:function(){return n()}})]})})})]})}},32360:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(26042),s=n(69396),i=n(29815),o=n(85893),l=(n(67294),n(79521)),a=n(45697),c=n.n(a),u=function(e){var t=e.color,n=e.children,r=e.active,s=void 0!==r&&r,i=e.onClick;return s?(0,o.jsx)("button",{onClick:i,className:"btn btn-default btn-".concat(t),children:n}):(0,o.jsx)("button",{onClick:i,className:"btn btn-default btn-default-color",children:n})},d=function(e){var t=e.color,n=e.page,r=e.onClick;return(0,o.jsx)("button",{onClick:r,className:"btn btn-circle btn-".concat(t),children:n})},x=function(e){var t=e.page,n=e.onClick;return(0,o.jsx)("button",{onClick:n,className:"btn btn-circle btn-default-color",children:t})},h=function(e){var t=e.color,n=e.page,r=e.active,s=void 0!==r&&r,i=e.onClick;return s?(0,o.jsx)(d,{onClick:i,page:n,color:t}):(0,o.jsx)(x,{onClick:i,page:n,color:t})},m=function(e){var t=e.color,n=e.items,r=(e.active,e.onClick);return(0,o.jsx)(o.Fragment,{children:n.map((function(e){return(0,o.jsx)(h,{onClick:r,color:t,page:e+1,active:e+1===5},e)}))})};m.propTypes={color:c().string.isRequired,items:c().array.isRequired,active:c().number.isRequired};c().string.isRequired,c().array.isRequired,c().number.isRequired;var f=function(e){var t=e.columns,n=e.data,a=(0,l.useTable)({columns:t,data:n,initialState:{pageIndex:0,pageSize:10}},l.useSortBy,l.usePagination,l.useRowSelect,(function(e){e.visibleColumns.push((function(e){return(0,i.Z)(e)}))})),c=a.getTableProps,d=a.getTableBodyProps,x=a.headerGroups,h=a.prepareRow,m=a.page,f=a.canPreviousPage,p=a.canNextPage,g=a.pageOptions,v=a.pageCount,j=a.gotoPage,b=a.nextPage,w=a.previousPage,k=a.setPageSize,y=(a.selectedFlatRows,a.state),N=y.pageIndex,C=y.pageSize;y.selectedRowIds;return(null===n||void 0===n?void 0:n.length)>0?(0,o.jsxs)("div",{children:[(0,o.jsxs)("table",(0,s.Z)((0,r.Z)({},c()),{className:"table",children:[(0,o.jsx)("thead",{children:x.map((function(e){return(0,o.jsx)("tr",(0,s.Z)((0,r.Z)({},e.getHeaderGroupProps()),{children:e.headers.map((function(e){return(0,o.jsx)("th",(0,s.Z)((0,r.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{children:(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start",children:[(0,o.jsx)("span",{children:e.render("Header")}),(0,o.jsx)("span",{className:"ltr:ml-auto rtl:mr-auto",children:e.isSorted?e.isSortedDesc?(0,o.jsx)("icon",{className:"icon-arrow-down text-xxs"}):(0,o.jsx)("icon",{className:"icon-arrow-up text-xxs"}):""})]})}))}))}))}))}),(0,o.jsx)("tbody",(0,s.Z)((0,r.Z)({},d()),{children:m.map((function(e,t){return h(e),(0,o.jsx)("tr",(0,s.Z)((0,r.Z)({},e.getRowProps()),{children:e.cells.map((function(e){return(0,o.jsx)("td",(0,s.Z)((0,r.Z)({},e.getCellProps()),{style:{"max-width":"10rem"},className:"max-w-xs truncate break-words  text-ellipsis ",children:e.render("Cell")}))}))}))}))}))]})),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between my-4",children:[(0,o.jsxs)("div",{className:"flex flex-wrap items-center justify-start children-x-2 pagination",children:[0!==N&&(0,o.jsx)(u,{onClick:function(){return j(0)},color:"text-default",children:"First"}),f&&(0,o.jsx)(u,{onClick:function(){return w()},color:"text-default",children:"Previous"}),p&&(0,o.jsx)(u,{onClick:function(){return b()},disabled:!p,color:"text-default",children:"Next"}),N!==v-1&&(0,o.jsx)(u,{onClick:function(){return j(v-1)},disabled:!p,color:"text-default",children:"Last"})]}),(0,o.jsxs)("span",{children:["Page"," ",(0,o.jsxs)("b",{children:[N+1," of ",g.length]})," "]}),(0,o.jsx)("select",{className:"form-select text-sm",value:C,onChange:function(e){k(Number(e.target.value))},children:[10,25,50,100].map((function(e){return(0,o.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]}):(0,o.jsx)("div",{className:"text-center",children:"No Records Found"})}},14101:function(e,t,n){"use strict";var r=n(85893);t.Z=function(e){var t=e.title,n=e.subtitle;return(0,r.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,r.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,r.jsx)("h2",{className:"text-sm text-secondary",children:n})]})}},96068:function(e,t,n){"use strict";n.r(t);var r=n(47568),s=n(828),i=n(70655),o=n(85893),l=n(34120),a=n(36804),c=n(67294),u=n(14101),d=n(41664),x=n.n(d),h=n(30882),m=n(32360),f=n(1258),p=n(11163),g=n(3695),v=n(94379),j=n(81817);t.default=(0,l.X)((function(){var e=(0,p.useRouter)(),t=(0,s.Z)(c.useState(void 0),2),n=t[0],l=t[1],d=(0,s.Z)(c.useState(""),2),b=d[0],w=d[1],k=(0,s.Z)(c.useState(""),2),y=k[0],N=k[1],C=(0,s.Z)(c.useState(!1),2),S=C[0],Z=C[1],P=(0,s.Z)(c.useState(void 0),2),_=P[0],R=P[1],T=(0,s.Z)(c.useState([]),2),B=T[0],E=T[1],H=function(e,t){"Delete"==t&&I(e)},I=function(e){R(e),Z(!0)},z=[{Header:"List",sortable:!1,Cell:function(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{color:"blue"},className:"font-semibold",children:e.row.original.name}),(0,o.jsx)("span",{children:e.row.original.description})]})}},{Header:"Members",accessor:"membersCount"},{Header:"Created",accessor:"created_at"},{Header:"Tags",sortable:!1,Cell:function(e){return(0,o.jsx)("div",{className:"flex ",children:e.row.original.tags.map((function(e){return(0,o.jsx)("div",{className:"mr-2",children:(0,o.jsx)(j.C,{size:"default",color:"red",rounded:!0,children:e})})}))})}},{Header:"Action",sortable:!1,Cell:function(e){return(0,o.jsx)("div",{className:"flex ",children:(0,o.jsx)(f.Z,{name:e.row.original.name,onItemClick:H})})}}];c.useEffect((function(){D()}),[]);var q=function(){var e=localStorage.getItem("token");h.ax.delete("http://20.193.136.151:5000/lists/".concat(_),{headers:{"x-api-key ":"Bearer ".concat(e)}}).then((function(e){Z(!1),l({type:"success"}),setTimeout((function(){l(void 0),D()}),1e3)})).catch((function(e){Z(!1),l({type:"error",message:e.response.data.message}),console.error("get /usres error",e.message)}))},D=function(){var e=(0,r.Z)((function(){var e,t,n,r=arguments;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],t=localStorage.getItem("token"),n="http://20.193.136.151:5000/lists/?like=false&skip=0&limit=10",e&&""!=y&&""!=b?n="http://20.193.136.151:5000/lists/?name=".concat(b,"&like=true&tag=").concat(y,"&skip=0&limit=10"):e&&""!=b?n="http://20.193.136.151:5000/lists/?name=".concat(b,"&like=true&skip=0&limit=10"):e&&""!=y&&(n="http://20.193.136.151:5000/lists/?&like=true&tag=".concat(y,"&skip=0&limit=10")),[4,h.ax.get(n,{headers:{"x-api-key":"Bearer ".concat(t)}}).then((function(e){e.data.map((function(e){e.membersCount=e.customer_ids.length})),E(e.data),w(""),N("")})).catch((function(e){}))];case 1:return s.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(a.Z,{className:"overflow-x-scroll",children:["success"===(null===n||void 0===n?void 0:n.type)&&(0,o.jsx)("div",{className:"flex flex-wrap w-full",children:(0,o.jsx)("div",{className:"p-2",children:v.fn.success("Deleted user successfully","Success")})}),"error"===(null===n||void 0===n?void 0:n.type)&&(0,o.jsx)("div",{className:"flex flex-wrap w-full",children:(0,o.jsx)("div",{className:"p-2",children:v.fn.error(n.message,"Error")})}),S&&(0,o.jsx)(g.Z,{onCancel:function(){l(void 0),Z(!1)},onSubmit:function(){q()},children:" "}),(0,o.jsx)(u.Z,{title:"List & Segments",subtitle:""}),(0,o.jsxs)("p",{children:["Below are your starred lists and segments. To view all your lists and segments or change the starred ones,",(0,o.jsx)(x(),{href:"/#",children:(0,o.jsx)("a",{style:{textDecoration:"underline",color:"blue",fontSize:13},children:"Click here."})})]}),(0,o.jsxs)("div",{className:"flex mt-10 items-center mb-10",children:[(0,o.jsx)("input",{name:"search",type:"text",style:{width:"250px",border:"1px solid"},className:"form-input mt-1 text-xs block w-full bg-white w-0.5 mr-5 border-solid -mt-1",placeholder:"Search lists",onChange:function(e){w(e.target.value)},value:b}),(0,o.jsx)("div",{style:{width:"250px"},className:"mr-5",children:(0,o.jsx)("input",{name:"searchByTags",type:"text",style:{width:"250px",border:"1px solid"},className:"form-input mt-1 text-xs block w-full bg-white w-0.5 mr-5 border-solid -mt-1",placeholder:"Search Tags",onChange:function(e){N(e.target.value)},value:y})}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"button",style:{width:"100px",height:"40px",marginRight:"20px",background:"#434190",color:"white"},onClick:function(){D(!0)},value:"Search"})}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"button",style:{width:"100px",height:"40px",marginRight:"20px",background:"#434190",color:"white"},onClick:function(){e.push("/listSegments/createListSegment")},value:"Create List"})})]}),(0,o.jsx)(m.Z,{columns:z,data:B})]})}))},828:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(13375);var s=n(91566);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,t)||(0,s.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[5367,196,7955,6268,9521,5776,9774,2888,179],(function(){return t=40743,e(e.s=t);var t}));var t=e.O();_N_E=t}]);