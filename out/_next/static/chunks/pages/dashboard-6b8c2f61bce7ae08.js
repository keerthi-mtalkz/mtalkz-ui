(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{91015:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return l(90242)}])},14101:function(e,t,l){"use strict";var s=l(85893);t.Z=function(e){var t=e.title,l=e.subtitle;return(0,s.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,s.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,s.jsx)("h2",{className:"text-sm text-secondary",children:l})]})}},14087:function(e,t,l){"use strict";var s=l(85893);l(67294);t.Z=function(e){var t=e.title,l=e.description;return(0,s.jsxs)("div",{className:"flex flex-col mb-4 widget-title w-full",children:[(0,s.jsx)("div",{className:"title text-base font-base font-bold font-poppins",children:t}),(0,s.jsx)("div",{className:"description text-sm",children:l})]})}},40463:function(e,t,l){"use strict";var s=l(85893),n=(l(67294),l(14087));t.Z=function(e){var t=e.title,l=e.description,i=e.right,a=void 0===i?null:i,r=e.children;return a?(0,s.jsxs)("div",{className:"w-full p-4 shadow mb-4 widget",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between mb-4",children:[(0,s.jsx)(n.Z,{title:t,description:l}),a]}),r]}):(0,s.jsxs)("div",{className:"w-full p-4 shadow mb-4 widget",children:[(0,s.jsx)(n.Z,{title:t,description:l}),r]})}},64665:function(e,t,l){"use strict";l.d(t,{MX:function(){return i},T3:function(){return a},uf:function(){return r}});var s=l(50743),n=l.n(s);function i(e,t){return Math.floor(Math.random()*(t-e))+e}function a(e){return"".concat(n().formatMoney(e,"",1,",",".").replace(/\.00$/g,""),"%")}function r(e){return n().formatMoney(e,"",2,",",".").replace(/\.00$/g,"")}},38037:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var s=l(85893),n=l(2185),i=(l(67294),l(84009)),a=l(41664),r=l.n(a),c=function(){var e=(0,n.v9)((function(e){return{name:e.name}}),n.wU).name;return(0,s.jsx)("div",{className:"logo flex flex-row items-center uppercase font-bold text-lg tracking-wider justify-center mb-4",children:(0,s.jsx)(r(),{href:"/",children:(0,s.jsxs)("a",{className:"flex flex-row items-center justify-start children-x-1",children:[(0,s.jsx)(i.Z,{size:26}),(0,s.jsx)("span",{children:e})]})})})},o=l(9008),d=l.n(o),u=function(e){var t=e.children,l=(0,n.v9)((function(e){return{direction:e.direction,name:e.name}}),n.wU),i=l.direction,a=l.name;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{children:(0,s.jsx)("title",{children:a})}),(0,s.jsx)("div",{"data-background":"white","data-logo":"white","data-direction":i,className:"text-gray-900 centered w-full h-screen flex items-center justify-center bg-gray-100 text-sm",children:(0,s.jsxs)("div",{className:"w-full m-2 p-4 lg:w-1/3 lg:m-0 lg:p-8 bg-white shadow-lg",children:[(0,s.jsx)(c,{}),t]})})]})}},90242:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return d}});var s=l(85893),n=l(67294),i=l(34120),a=l(36804),r=(l(14101),l(14087),l(29891),l(2185),l(41664),l(46799),l(64665),l(81817),l(40463)),c=(l(38037),function(e){var t=e.title,l=e.totalMeg;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex flex-col w-full mb-4 lg:w-1/4 ",children:(0,s.jsxs)("div",{className:"card bg-white shadow-lg py-4",children:[(0,s.jsxs)("div",{className:"title text-base font-base font-bold font-poppins text-center mb-4",children:[" ",t]}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,s.jsx)("h5",{className:"text-secondary mb-4 text-center",children:l})})]})})})}),o=(l(11163),l(50196)),d=(l(96486),(0,i.X)((function(){var e,t,l,i,d,u,h,x,f=(0,n.useState)([]),m=f[0],j=f[1],v=(0,n.useState)(0),g=v[0],p=v[1],w=(0,n.useState)(0),b=w[0],N=w[1],M=(0,n.useState)({}),_=M[0],y=M[1],C=(0,n.useState)(""),k=C[0],Z=C[1],S=function(e){return Math.floor(e/60)+":"+(e%60).toLocaleString("en-US",{minimumIntegerDigits:2})};return(0,n.useEffect)((function(){var e=localStorage.getItem("token"),t="https://cb.mtalkz.cloud/stats"+(k?"?chatbot_id=".concat(k):"");o.ZP.get(t,{headers:{Accept:"application/json","x-api-key":e}}).then((function(e){y(e.data)})).catch((function(e){return console.error(e.message)})),o.ZP.get("https://mtalkz.cloud/stats/callpatch?apiKey=9i5Qf4dnYmT67uFEAj5",{headers:{"Access-Control-Allow-Origin":["https://mtalkz.cloud","http://localhost:3333"]}}).then((function(e){j(e.data.results);var t=0,l=0;e.data.results.forEach((function(e){t+=+e.duration,l+=+e.call_connected})),N(e.data.count?Math.floor(t/e.data.count):0),p(l)})).catch((function(e){return console.error(e.message)}))}),[k]),(0,s.jsx)(a.Z,{children:(0,s.jsxs)("div",{className:"w-full lg:px-2",children:[(0,s.jsxs)(r.Z,{title:"Chatbots Overview",children:[(0,s.jsxs)("div",{className:"flex flex-row flex-wrap w-full mb-4",children:[(0,s.jsx)(c,{title:"Total Chatbots",totalMeg:(null===(e=_.chatbots)||void 0===e?void 0:e.length)||0}),(0,s.jsx)(c,{title:"Published Chatbots",totalMeg:(null===(t=_.chatbots)||void 0===t?void 0:t.filter((function(e){return e.published})).length)||0}),(0,s.jsx)(c,{title:"Unique Users",totalMeg:(null===(l=_.phones)||void 0===l?void 0:l.length)||0}),(0,s.jsx)(c,{title:"User Sessions",totalMeg:_.sessions||0})]}),(0,s.jsx)("div",{className:"flex flex-col w-full mb-4 lg:w-1/2",children:(0,s.jsxs)("div",{className:"flex flex-row mx-1 items-center justify-center",children:[(0,s.jsx)("div",{className:"title text-base font-base font-bold font-poppins text-center w-1/2",children:"Chatbot"}),(0,s.jsxs)("select",{className:"form-select block mt-1 text-sm border border-red-500 w-1/2",onChange:function(e){return Z(e.target.value)},value:k,children:[(0,s.jsx)("option",{value:"",children:"(All Chatbots)"}),null===(i=_.chatbots)||void 0===i?void 0:i.map((function(e){return(0,s.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})}),(0,s.jsxs)("div",{className:"flex flex-row flex-wrap w-full mb-4",children:[(0,s.jsx)(c,{title:"Messages Received",totalMeg:(null===(d=_.volumes)||void 0===d?void 0:d.new_message)||0}),(0,s.jsx)(c,{title:"Messages Sent",totalMeg:(null===(u=_.volumes)||void 0===u?void 0:u.sending_message)||0}),(0,s.jsx)(c,{title:"Messages Delivered",totalMeg:(null===(h=_.volumes)||void 0===h?void 0:h.message_response)||0}),(0,s.jsx)(c,{title:"API Calls",totalMeg:(null===(x=_.volumes)||void 0===x?void 0:x.api_call)||0})]})]}),(0,s.jsxs)(r.Z,{title:"Voice Call Campaign",children:[(0,s.jsxs)("div",{className:"flex flex-row flex-wrap w-full mb-4",children:[(0,s.jsx)(c,{title:"Total Calls Made",totalMeg:m.length}),(0,s.jsx)(c,{title:"Total Calls Connected",totalMeg:g}),(0,s.jsx)(c,{title:"Average Duration",totalMeg:S(b)})]}),(0,s.jsxs)("div",{className:"flex flex-wrap py-2",children:[(0,s.jsx)("div",{className:"w-full lg:w-1/2 mb-4",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Circle"}),(0,s.jsx)("th",{children:"Received"}),(0,s.jsx)("th",{children:"Duration"}),(0,s.jsx)("th",{children:"Disconnect Reason"}),(0,s.jsx)("th",{children:"Date/Time"})]})}),(0,s.jsx)("tbody",{children:m.map((function(e){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.circle}),(0,s.jsx)("td",{children:+e.call_connected?"\u2705":"\u26d4"}),(0,s.jsx)("td",{children:S(e.duration)}),(0,s.jsx)("td",{children:e.hangup_cause}),(0,s.jsx)("td",{children:e.start})]})}))})]})}),(0,s.jsx)("iframe",{className:"w-full lg:w-1/2 mb-4",src:"https://mtalkz.cloud/stats/callpatch?apiKey=9i5Qf4dnYmT67uFEAj5&pie=1",style:{height:450}})]})]})]})})})))}},function(e){e.O(0,[4885,8698,3662,5367,196,7955,6268,1367,2584,5776,9774,2888,179],(function(){return t=91015,e(e.s=t);var t}));var t=e.O();_N_E=t}]);