(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4151],{97506:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resource/update/[updateID]",function(){return s(75471)}])},14101:function(e,t,s){"use strict";var r=s(85893);t.Z=function(e){var t=e.title,s=e.subtitle;return(0,r.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,r.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,r.jsx)("h2",{className:"text-sm text-secondary",children:s})]})}},75471:function(e,t,s){"use strict";s.r(t);var r=s(47568),l=s(20414),a=s(85893),c=s(67294),n=s(12596),u=s(14101),i=s(64298),o=s(34120),d=s(11163),x=s(30882),f=s(94379);t.default=(0,o.X)((function(){var e=(0,d.useRouter)(),t=e.query.updateID,s=(0,c.useState)({}),o=s[0],m=s[1],h=(0,c.useState)(void 0),p=h[0],b=h[1],N=function(){var e=(0,r.Z)((function(){var e;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return e=localStorage.getItem("token"),[4,x.ax.get("/resources/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){m(e.data.resource)})).catch((function(e){b({type:"error",err:e}),console.error("get /resource error",e)}))];case 1:s.sent(),s.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){N()}),[]);var j=(0,i.cI)(),v=j.register,w=j.handleSubmit,g=(j.watch,j.errors);return(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(u.Z,{title:"UPDATE RESOURCE",subtitle:""}),"success"===(null===p||void 0===p?void 0:p.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:f.fn.success("Updated resource successfully","Success")})}),"error"===(null===p||void 0===p?void 0:p.type)&&(0,a.jsx)("div",{className:"flex flex-wrap w-full",children:(0,a.jsx)("div",{className:"p-2",children:f.fn.error(g,"Error")})}),(0,a.jsx)("div",{className:"flex flex-wrap ",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("form",{onSubmit:w((function(s){var r=localStorage.getItem("token");x.ax.put("/resources/".concat(t),s,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){m(t.data),b({type:"success"}),e.push("/resource")})).catch((function(e){console.error("get /resource error",e),b({type:"error",err:e})}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,a.jsxs)("div",{className:"w-full mb-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Slug"}),(0,a.jsx)("input",{name:"slug",type:"text",ref:v({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Resource Slug",defaultValue:o.slug,required:!0,maxLength:255})]}),g.slug&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.slug})]}),(0,a.jsxs)("div",{className:"w-full mb-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Name"}),(0,a.jsx)("input",{name:"name",type:"text",ref:v({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Resource name",defaultValue:o.name,required:!0,maxLength:255})]}),g.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.name})]}),(0,a.jsxs)("div",{className:"w-full mb-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-default",children:"Description"}),(0,a.jsx)("input",{name:"description",type:"text",ref:v({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Resource description",defaultValue:o.description,required:!0,maxLength:255})]}),g.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.description})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("input",{type:"submit",className:"btn btn-default btn-block btn-indigo btn-rounded",value:"Update"})})]})})})]})}))}},function(e){e.O(0,[5367,196,9350,4298,7106,9774,2888,179],(function(){return t=97506,e(e.s=t);var t}));var t=e.O();_N_E=t}]);