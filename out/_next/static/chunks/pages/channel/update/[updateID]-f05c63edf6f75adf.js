(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2139],{52200:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/channel/update/[updateID]",function(){return n(66015)}])},14101:function(e,t,n){"use strict";var a=n(85893);t.Z=function(e){var t=e.title,n=e.subtitle;return(0,a.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,a.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,a.jsx)("h2",{className:"text-sm text-secondary",children:n})]})}},66015:function(e,t,n){"use strict";n.r(t);var a=n(47568),s=n(20414),l=n(85893),r=n(67294),c=n(12596),u=n(14101),i=n(64298),o=n(34120),d=n(11163),f=n(30882),h=n(94379);t.default=(0,o.X)((function(){var e=(0,d.useRouter)(),t=e.query.updateID,n=(0,r.useState)({}),o=n[0],x=n[1],m=(0,r.useState)(void 0),p=m[0],b=m[1],N=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e=localStorage.getItem("token"),[4,f.ax.get("/channels/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){x(e.data.channel)})).catch((function(e){b({type:"error",err:e}),console.error("get /channel error",e)}))];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){N()}),[]);var v=(0,i.cI)(),g=v.register,j=v.handleSubmit;v.watch,v.errors;return(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(u.Z,{title:"UPDATE CHANNEL",subtitle:""}),"success"===(null===p||void 0===p?void 0:p.type)&&(0,l.jsx)("div",{className:"flex flex-wrap w-full",children:(0,l.jsx)("div",{className:"p-2",children:h.fn.success("Updated channel successfully","Success")})}),"error"===(null===p||void 0===p?void 0:p.type)&&(0,l.jsx)("div",{className:"flex flex-wrap w-full",children:(0,l.jsx)("div",{className:"p-2",children:h.fn.error(p.message,"Error")})}),(0,l.jsx)("div",{className:"flex flex-wrap ",children:(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("form",{onSubmit:j((function(n){var a=localStorage.getItem("token");f.ax.put("/channels/".concat(t),n,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){x(t.data),b({type:"success"}),e.push("/channel")})).catch((function(t){b({type:"error",message:t.response.data.message}),setTimeout((function(){b(void 0),e.push("/channel")}),1e3)}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,l.jsx)("div",{className:"w-full mb-4",children:(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-default",children:"Slug"}),(0,l.jsx)("input",{name:"slug",type:"text",ref:g({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Channel Slug",defaultValue:o.slug,required:!0,maxLength:255,pattern:"[a-z0-9\\-]+"})]})}),(0,l.jsx)("div",{className:"w-full mb-4",children:(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-default",children:"Name"}),(0,l.jsx)("input",{name:"name",type:"text",ref:g({required:!0}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter Channel name",defaultValue:o.name,required:!0,maxLength:255})]})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)("input",{type:"submit",className:"btn btn-default btn-block btn-indigo btn-rounded",value:"Update"})})]})})})]})}))}},function(e){e.O(0,[5367,196,9350,4298,7106,9774,2888,179],(function(){return t=52200,e(e.s=t);var t}));var t=e.O();_N_E=t}]);