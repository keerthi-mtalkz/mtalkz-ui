(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8572],{42222:function(e,t,n){"use strict";var s=n(63907),r=n(50542),a=n(12478),l="localStorage"in n.g&&n.g.localStorage?n.g.localStorage:s;function c(e,t){return 1===arguments.length?i(e):o(e,t)}function i(e){const t=l.getItem(e);return r(t)}function o(e,t){try{return l.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}}c.set=o,c.get=i,c.remove=function(e){return l.removeItem(e)},c.clear=function(){return l.clear()},c.backend=function(e){return e&&(l=e),l},c.on=a.on,c.off=a.off,e.exports=c},50542:function(e){"use strict";e.exports=function(e){const t=function(e){try{return JSON.parse(e)}catch(t){return e}}(e);return void 0===t?null:t}},63907:function(e){"use strict";var t={};e.exports={getItem:function(e){return e in t?t[e]:null},setItem:function(e,n){return t[e]=n,!0},removeItem:function(e){return!!(e in t)&&delete t[e]},clear:function(){return t={},!0}}},12478:function(e,t,n){"use strict";var s=n(50542),r={};function a(e){e||(e=n.g.event);var t=r[e.key];t&&t.forEach((function(t){t(s(e.newValue),s(e.oldValue),e.url||e.uri)}))}e.exports={on:function(e,t){r[e]?r[e].push(t):r[e]=[t],n.g.addEventListener?n.g.addEventListener("storage",a,!1):n.g.attachEvent?n.g.attachEvent("onstorage",a):n.g.onstorage=a},off:function(e,t){var n=r[e];n.length>1?n.splice(n.indexOf(t),1):r[e]=[]}}},90202:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chatbots/createChatbot",function(){return n(35681)}])},14101:function(e,t,n){"use strict";var s=n(85893);t.Z=function(e){var t=e.title,n=e.subtitle;return(0,s.jsxs)("div",{className:"flex flex-col py-4 mb-4",children:[(0,s.jsx)("h1",{className:"text-lg text-default font-bold font-poppins",children:t}),(0,s.jsx)("h2",{className:"text-sm text-secondary",children:n})]})}},35681:function(e,t,n){"use strict";n.r(t);var s=n(85893),r=n(67294),a=n(64298),l=n(36804),c=n(11163),i=n(34120),o=n(30882),u=n(94379),d=n(14101),x=n(42222),f=n.n(x);t.default=(0,i.X)((function(){var e=(0,c.useRouter)(),t=(0,r.useState)(void 0),n=t[0],i=t[1],x=(0,a.cI)(),m=x.register,h=x.handleSubmit,p=(0,r.useState)(void 0),b=p[0];p[1];return(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{title:"Create Chatbot",subtitle:""}),"success"===(null===n||void 0===n?void 0:n.type)&&(0,s.jsx)("div",{className:"flex flex-wrap w-full",children:(0,s.jsx)("div",{className:"p-2",children:u.fn.success("Chatbot Created Successfully","")})}),"error"===(null===n||void 0===n?void 0:n.type)&&(0,s.jsx)("div",{className:"flex flex-wrap w-full",children:(0,s.jsx)("div",{className:"p-2",children:u.fn.error(n.message,"Error")})}),(0,s.jsxs)("form",{onSubmit:h((function(t){var n=f().get("token");o.ax.post("https://cb.mtalkz.cloud/import",{type:"chatbot",data:t},{headers:{"x-api-key":n}}).then((function(t){i({type:"success"}),setTimeout((function(){e.push("/chatbots")}),1e3)})).catch((function(e){(null===e||void 0===e?void 0:e.response)&&i({type:"error",message:e.response.data.error})}))})),className:"flex flex-col text-sm mb-4 lg:w-1/3",children:[(0,s.jsxs)("div",{className:"w-full mb-4",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-default",children:"Name"}),(0,s.jsx)("span",{className:"text-red-600",children:"*"}),(0,s.jsx)("input",{name:"name",type:"text",ref:m({required:!0,maxLength:25}),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"Enter your name",required:!0})]}),b&&b.name&&b.name.map((function(e){return(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{className:"text-default",children:"Channel"}),(0,s.jsx)("span",{className:"text-red-600",children:"*"}),(0,s.jsxs)("select",{className:"form-select block w-full mt-1 text-sm",name:"channel",ref:m,children:[(0,s.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,s.jsx)("option",{value:"telegram",disabled:!0,children:"Telegram"}),(0,s.jsx)("option",{value:"open-web",disabled:!0,children:"Web"})]})]})}),(0,s.jsxs)("div",{className:"w-full mb-4",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-default",children:"Phone (with Country Code)"}),(0,s.jsx)("span",{className:"text-red-600",children:"*"}),(0,s.jsx)("input",{name:"phone",type:"text",ref:m(),className:"form-input mt-1 text-xs block w-full bg-white",placeholder:"91xxxxxxxxxx",required:!0,pattern:"^(91)\\d{10}",title:"Please enter a valid phone number"})]}),b&&b.phone&&b.phone.map((function(e){return(0,s.jsx)("p",{className:"mt-1 text-xs text-red-500",children:e})}))]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("input",{type:"submit",className:"btn btn-default btn-block btn-indigo btn-rounded",value:"Submit"})})]})]})}))}},function(e){e.O(0,[5367,196,7955,6268,4298,5776,9774,2888,179],(function(){return t=90202,e(e.s=t);var t}));var t=e.O();_N_E=t}]);